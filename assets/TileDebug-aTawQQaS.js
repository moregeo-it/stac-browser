import{E as f,z as h,a2 as x,aq as g}from"./GeoJSON-dVJCj0SI.js";import{r as S}from"./uri-BP_XjvpC.js";import y from"./DataTile-X66Qju27.js";import z from"./ImageTile-z2e-2qby.js";import"./index-DLQIbJqc.js";import"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-LQBMttYK-CW7mqt87.js";import"./useStateClass-BGbSLWFN-DVCkhww4.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--D04gVupl.js";import"./tilecoord-CR7vLr2I.js";import"./DataTile-B7a7Je00.js";import"./Tile-G7aX-9AV.js";import"./common-D17H8Wti.js";import"./mat4-CeypvY8Z.js";import"./Tile-oJI9PQZQ.js";import"./TileGrid-DzNPHZK1.js";import"./TileRange-2Tc-Ry00.js";import"./TileEventType-CTN_nmJ7.js";class B extends z{constructor(t){t=t||{};const p=t.template||"z:{z} x:{x} y:{y}",e=t.source,l=t.color||"grey";super({transition:0,wrapX:t.wrapX!==void 0?t.wrapX:e!==void 0?e.getWrapX():void 0});const m=()=>{this.projection=t.projection!==void 0?h(t.projection):e!==void 0?e.getProjection():this.projection,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:e!==void 0?e.getTileGrid():this.tileGrid,this.zDirection=t.zDirection!==void 0?t.zDirection:e!==void 0?e.zDirection:this.zDirection,e instanceof y&&(this.transformMatrix=e.transformMatrix?.slice()||null);const r=this.tileGrid;r&&this.setTileSizes(r.getResolutions().map((a,s)=>x(r.getTileSize(s)).map(d=>Math.max(Math.floor(d),1)))),this.setLoader((a,s,d,u)=>{const c=S(p,a,s,d,u.maxY),[n,o]=this.getTileSize(a),i=g(n,o);return i.strokeStyle=l,i.strokeRect(.5,.5,n+.5,o+.5),i.fillStyle=l,i.strokeStyle="white",i.textAlign="center",i.textBaseline="middle",i.font="24px sans-serif",i.lineWidth=4,i.strokeText(c,n/2,o/2,n),i.fillText(c,n/2,o/2,n),Promise.resolve(i.canvas)}),this.setState("ready")};if(e===void 0||e.getState()==="ready")m();else{const r=()=>{e.getState()==="ready"&&(e.removeEventListener(f.CHANGE,r),m())};e.addEventListener(f.CHANGE,r)}}}export{B as default};
//# sourceMappingURL=TileDebug-aTawQQaS.js.map
