const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StatsChart-Ca1BNIh4.js","assets/helper-CaHhXSPV.js","assets/helper-DO3U350M.js","assets/I18N-DlIXJTel.js","assets/_commonjsHelpers-CE1G-McA.js","assets/interface-BPo5cHT_.js","assets/StacFieldsMixin-c9dxzqw7.js","assets/datatypes-XrFOh23H.js","assets/index-DLQIbJqc.js","assets/utils-B7F_ho2D.js","assets/index-Dw8SzqbY.css","assets/index-aRGlNgXp.js"])))=>i.map(i=>d[i]);
import{bf as S,bm as T,bn as w,bo as x,bg as O,G as i,x as o,v as p,z as c,L as a,N as y,E as d,M as f,av as $,y as U,P as j,bp as E}from"./index-DLQIbJqc.js";import{_ as G}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-Csj99Gv7.js";import{h}from"./helper-CaHhXSPV.js";import{U as K}from"./Url-C4iS3Xc7.js";import{j as b}from"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--D04gVupl.js";import"./helper-DO3U350M.js";import"./BFormGroup.vue_vue_type_script_setup_true_lang-BmZN8qcE-DWeOhU7e.js";import"./useStateClass-BGbSLWFN-DVCkhww4.js";import"./BInputGroupText.vue_vue_type_script_setup_true_lang-BBN5F0A4-aOzNWSRc.js";import"./BFormInput.vue_vue_type_script_setup_true_lang-D3z3jxbI-CJtUD2WG.js";import"./debounce-BHqBzJ1a-BZDj8VL8.js";const N={name:"RootStats",components:{StatsChart:x(()=>E(()=>import("./StatsChart-Ca1BNIh4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Url:K},computed:{...w(["conformsTo"]),...T(["root"]),rootUrl(){return this.root?this.root.getAbsoluteUrl():null},hasConformances(){return Array.isArray(this.conformsTo)&&this.conformsTo.length>0},conformances(){if(!this.hasConformances)return null;let e={OGC:{},STAC:{},Other:{}};for(let t of this.conformsTo){let n=this.parseConformance(t);e[n.type][t]=n}for(let t in e)b.size(e[t])===0&&delete e[t];return e},stats(){if(!this.root)return null;let e={"stats:catalogs":{label:this.$tc("stacCatalog",2)},"stats:collections":{label:this.$tc("stacCollection",2)},"stats:items":{label:this.$tc("stacItem",2)}};for(let t in e)if(b.isObject(this.root[t])){let n=Object.assign(e[t],this.root[t]);b.size(n.versions)===1&&(n.version=Object.keys(n.versions)[0],delete n.versions)}else delete e[t];return b.size(e)>0?e:null}},methods:{parseConformance(e){let t=e,n="Other",v=null;if(e.startsWith("http://www.opengis.net/spec/")){n="OGC";let l=e.match(/^http:\/\/www\.opengis\.net\/spec\/([^/]+)\/([^/]+)\/conf\/(.+)$/);if(l){let[,r,k,u]=l;v=k;let m=r.split("-");m.length===3&&m[0]==="ogcapi"?r=`OGC API - ${h.formatKey(m[1])} - Part ${m[2]}`:r==="cql2"?r="CQL2":r=h.formatKey(r),u=h.formatKey(u),t=`${r} - ${u}`}}else if(e.startsWith("https://api.stacspec.org/")){n="STAC";let l=e.match(/^https?:\/\/api\.stacspec\.org\/([^/]+)\/([^/#]+)(?:#(.+))?$/);l&&(v=l[1],t=h.formatKey(l[2]),l[3]&&(t+=" - "+h.formatKey(l[3])))}return{type:n,title:t,version:v}}}},P={class:"root-stats"},V=["title"],z={class:"charts"};function B(e,t,n,v,l,r){const k=O("Url"),u=G,m=O("StatsChart");return o(),i("div",P,[r.rootUrl?(o(),p(k,{key:0,id:"stacUrl",url:r.rootUrl,label:e.$t("source.locatedAt")},null,8,["url","label"])):c("",!0),t[7]||(t[7]=a()),r.hasConformances?(o(),i(y,{key:1},[d("h4",null,f(e.$t("source.conformanceClasses")),1),t[1]||(t[1]=a()),(o(!0),i(y,null,$(r.conformances,(s,C)=>(o(),i("dl",{key:C},[d("dt",null,f(C),1),t[0]||(t[0]=a()),d("dd",null,[d("ul",null,[(o(!0),i(y,null,$(s,(_,A)=>(o(),i("li",{key:A,title:A},[a(f(_.title)+" ",1),_.version?(o(),p(u,{key:0,pill:"",variant:"secondary",class:"ms-1"},{default:U(()=>[a(f(_.version),1)]),_:2},1024)):c("",!0)],8,V))),128))])])]))),128))],64)):c("",!0),t[8]||(t[8]=a()),r.stats?(o(),i(y,{key:2},[d("h4",null,f(e.$t("source.statistics")),1),t[6]||(t[6]=a()),(o(!0),i(y,null,$(r.stats,(s,C)=>(o(),i("dl",{key:C},[d("dt",null,[a(f(s.label)+" ",1),j(u,{pill:"",variant:"primary",class:"ms-1"},{default:U(()=>[a(f(s.count),1)]),_:2},1024),t[2]||(t[2]=a()),s.version?(o(),p(u,{key:0,pill:"",variant:"secondary",class:"ms-1"},{default:U(()=>[a(f(s.version),1)]),_:2},1024)):c("",!0)]),t[5]||(t[5]=a()),d("dd",z,[s.extensions?(o(),p(m,{key:0,type:"extensions",data:s.extensions,count:s.count},null,8,["data","count"])):c("",!0),t[3]||(t[3]=a()),s.assets?(o(),p(m,{key:1,type:"assets",data:s.assets,count:s.count},null,8,["data","count"])):c("",!0),t[4]||(t[4]=a()),!s.version&&s.versions?(o(),p(m,{key:2,type:"versions",data:s.versions,count:s.count},null,8,["data","count"])):c("",!0)])]))),128))],64)):c("",!0)])}const Z=S(N,[["render",B]]);export{Z as default};
//# sourceMappingURL=RootStats-i4gm2Dwt.js.map
