import{a3 as b,G as s,x as n,E as a,bf as x,bo as v,bg as h,N as V,av as L,L as c,v as C,z as G,P as m,y as d,M as k,F as B,_ as E,bp as w}from"./index-DLQIbJqc.js";import{a as M}from"./BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-CZ2qJTp0-RH7SmsHg.js";import{ca as P,G as j,L as z}from"./GeoJSON-dVJCj0SI.js";import"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-LQBMttYK-CW7mqt87.js";import"./useStateClass-BGbSLWFN-DVCkhww4.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--D04gVupl.js";const N={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function T(o,e){return n(),s("svg",N,[...e[0]||(e[0]=[a("g",{fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11a5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0a6.5 6.5 0 0 1 13 0"}),a("path",{d:"M10.344 11.742q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1a6.5 6.5 0 0 1-1.398 1.4z"}),a("path",{"fill-rule":"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5"})],-1)])])}const Z=b({name:"bi-zoom-in",render:T}),O={name:"LayerControlGroup",components:{LayerControlGroup:v(()=>w(()=>Promise.resolve().then(()=>H),void 0))},mixins:[P],props:{map:{type:Object,required:!0},group:{type:Object,required:!0},maxZoom:{type:Number,default:void 0}},computed:{layers(){const o=this.group.getLayers().getArray(),e=[];for(const t of o){if(t.get("base"))continue;const u={group:t instanceof z?t.getLayers().getLength():0,layer:t,id:t.ol_uid,visible:t.getVisible(),title:this.getTitle(t)};e.push(u)}return e},visibleLayers:{get(){return this.layers.filter(o=>o.layer.getVisible()).map(o=>o.id)},set(o){for(const e of this.layers){const t=o.includes(e.id),i=e.layer.getVisible();t!==i&&e.layer.setVisible(t)}}}},methods:{setVisibility(o,e){o.layer.setVisible(e),o.visible=e},fitToExtent(o){o.visible||this.setVisibility(o,!0);let e=o.layer.getExtent(),t=o.layer.get("stac");if(t){let i=t.getBoundingBox();i||(t=t.getContext(),t&&(i=t.getBoundingBox())),i&&(e=j(i,"EPSG:4326",this.map.getView().getProjection()))}e&&this.map.getView().fit(e,{padding:[10,10,10,10],maxZoom:this.maxZoom})}}},$={class:"d-flex justify-content-between"},S={class:"title"};function q(o,e,t,i,u,l){const _=M,f=Z,g=E,y=h("LayerControlGroup",!0);return n(),s("ul",null,[(n(!0),s(V,null,L(l.layers,r=>(n(),s("li",{key:r.id},[a("div",$,[m(_,{inline:"",name:r.id,"model-value":r.visible,"onUpdate:modelValue":p=>l.setVisibility(r,p)},{default:d(()=>[a("span",S,k(r.title),1)]),_:2},1032,["name","model-value","onUpdate:modelValue"]),e[0]||(e[0]=c()),m(g,{variant:"light",size:"sm",title:o.$t("mapping.fit"),onClick:B(p=>l.fitToExtent(r),["prevent","stop"])},{default:d(()=>[m(f)]),_:1},8,["title","onClick"])]),e[1]||(e[1]=c()),r.group>1?(n(),C(y,{key:0,map:t.map,group:r.layer,maxZoom:t.maxZoom},null,8,["map","group","maxZoom"])):G("",!0)]))),128))])}const A=x(O,[["render",q],["__scopeId","data-v-aedae47e"]]),H=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{A as default};
//# sourceMappingURL=LayerControlGroup-B8_dD0VI.js.map
