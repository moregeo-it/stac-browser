import{d as $,e as V,i as T,b$ as C,c as n,G as f,x as i,A as r,B as a,t as O,c0 as b,m as w,h as E,g as H,j as K,aE as P,ay as R,ak as U,a9 as W,D as J,c1 as Q,N as z,av as k,v as B,y as h,C as x,L as q,M as I,H as X}from"./index-DPmgT0xU.js";import{u as Y,a as Z}from"./useStateClass-BGbSLWFN-BNuqkYB7.js";const ee=["value","disabled","selected"],D=$({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(u){const d=V(u,"BFormSelectOption"),e=T(C,null),s=n(()=>e?e.modelValue.value===d.value:!1);return(p,l)=>(i(),f("option",{value:a(d).value,disabled:a(d).disabled,selected:s.value},[r(p.$slots,"default")],8,ee))}}),M=(u,c)=>{const d=l=>typeof l=="object"&&l!==null&&"options"in l,e=l=>{const t=O(c);if(typeof l=="string")return{value:l,text:l};if(typeof l=="number")return{value:l,text:`${l}`};if(l instanceof Date)return{value:l,text:l.toLocaleString()};const F=b(l,t.valueField),m=b(l,t.textField),y=b(l,t.disabledField),_=t.optionsField?b(l,t.optionsField):void 0;return _!==void 0?{label:b(l,t.labelField)||m,options:_}:{...typeof l=="object"?l:void 0,value:F,text:m,disabled:y}},s=l=>l.map(t=>e(t));return{normalizedOptions:n(()=>s(O(u))),isComplex:d}},le=["label"],ae=$({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(u){const d=V(u,"BFormSelectOptionGroup"),{normalizedOptions:e}=M(()=>d.options,d);return(s,p)=>(i(),f("optgroup",{label:a(d).label},[r(s.$slots,"first"),(i(!0),f(z,null,k(a(e),(l,t)=>(i(),B(D,x({key:t,disabled:l.disabled,value:l.value},{ref_for:!0},s.$attrs),{default:h(()=>[r(s.$slots,"option",x({ref_for:!0},l),()=>[q(I(l.text),1)])]),_:2},1040,["disabled","value"]))),128)),r(s.$slots,"default")],8,le))}}),te=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],oe=$({__name:"BFormSelect",props:w({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(u,{expose:c}){const e=V(u,"BFormSelect"),s=E(u,"modelValue"),p=H(()=>e.id,"input"),l=R(()=>e.selectSize),t=Y(()=>e.state),F=K("_input"),{focused:m}=P(F,{initialValue:e.autofocus}),y=n(()=>[t.value,{"form-control":e.plain,[`form-control-${e.size}`]:e.size!=="md"&&e.plain,"form-select":!e.plain,[`form-select-${e.size}`]:e.size!=="md"&&!e.plain}]),_=n(()=>l.value||e.plain?l.value:void 0),j=Z(()=>e.ariaInvalid,()=>e.state),{normalizedOptions:N,isComplex:A}=M(()=>e.options,e),G=n(()=>N.value),S=n({get:()=>s.value,set:v=>{s.value=v}});return U(C,{modelValue:W(S)}),c({blur:()=>{m.value=!1},element:F,focus:()=>{m.value=!0}}),(v,g)=>J((i(),f("select",{id:a(p),ref:"_input","onUpdate:modelValue":g[0]||(g[0]=o=>S.value=o),class:X(y.value),name:a(e).name,form:a(e).form||void 0,multiple:a(e).multiple||void 0,size:_.value,disabled:a(e).disabled,required:a(e).required||void 0,"aria-required":a(e).required||void 0,"aria-invalid":a(j)},[r(v.$slots,"first"),(i(!0),f(z,null,k(G.value,(o,L)=>(i(),f(z,{key:L},[a(A)(o)?(i(),B(ae,{key:0,label:o.label,options:o.options,"value-field":a(e).valueField,"text-field":a(e).textField,"disabled-field":a(e).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(i(),B(D,{key:1,value:o.value,disabled:o.disabled},{default:h(()=>[r(v.$slots,"option",x({ref_for:!0},o),()=>[q(I(o.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),r(v.$slots,"default")],10,te)),[[Q,S.value]])}});export{D as _,ae as a,oe as b,M as u};
//# sourceMappingURL=BFormSelect.vue_vue_type_script_setup_true_lang-CkLgnxVA-DssEleR0.js.map
