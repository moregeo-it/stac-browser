import{ak as S,aA as u,aB as I,u as O}from"./GeoJSON-dVJCj0SI.js";import{a as P}from"./uri-BP_XjvpC.js";import{getRequestExtent as L}from"./Image-BUhvsjjs.js";import"./index-DLQIbJqc.js";import"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-LQBMttYK-CW7mqt87.js";import"./useStateClass-BGbSLWFN-DVCkhww4.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--D04gVupl.js";import"./tilecoord-CR7vLr2I.js";import"./common-D17H8Wti.js";import"./resolution-CU8ppKQ3.js";import"./common-9rOs42pz.js";function f(r,e,s,o){const m=u(r),E=I(r),a=e[0],t=e[1],c=.0254/o;return t*m>a*E?m*s/(a*c):E*s/(t*c)}function h(r,e,s,o,m,E,a){const t=f(s,o,E,a),c=O(s),n={OPERATION:m?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:a,SETDISPLAYWIDTH:Math.round(o[0]),SETDISPLAYHEIGHT:Math.round(o[1]),SETVIEWSCALE:t,SETVIEWCENTERX:c[0],SETVIEWCENTERY:c[1]};return Object.assign(n,e),P(r,n)}function w(r){const e=r.load||S,s=r.useOverlay??!1,o=r.metersPerUnit||1,m=r.displayDpi||96,E=r.ratio??1,a=r.crossOrigin??null;return function(t,c,n){const i=new Image;i.crossOrigin=a,t=L(t,c,n,E);const g=u(t)/c,T=I(t)/c,d=[g*n,T*n],A=h(r.url,r.params,t,d,s,o,m);return e(i,A).then(p=>({image:p,extent:t,pixelRatio:n}))}}export{w as createLoader};
//# sourceMappingURL=mapguide-Cg1hES2m.js.map
