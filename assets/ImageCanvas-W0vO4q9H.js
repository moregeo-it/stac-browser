import{I as o}from"./ImageCanvas-ClcAWpuF.js";import{$ as h,bW as v,aA as g,aB as d}from"./GeoJSON-dVJCj0SI.js";import u from"./Image-BUhvsjjs.js";import"./index-DLQIbJqc.js";import"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-LQBMttYK-CW7mqt87.js";import"./useStateClass-BGbSLWFN-DVCkhww4.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--D04gVupl.js";import"./common-D17H8Wti.js";import"./resolution-CU8ppKQ3.js";import"./common-9rOs42pz.js";class z extends u{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=t.ratio!==void 0?t.ratio:1.5}getImageInternal(t,i,s,r){i=this.findNearestResolution(i);let a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==i&&a.getPixelRatio()==s&&h(a.getExtent(),t))return a;t=t.slice(),v(t,this.ratio_);const n=g(t)/i,c=d(t)/i,m=[n*s,c*s],e=this.canvasFunction_.call(this,t,i,s,m,r);return e&&(a=new o(t,i,s,e)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a}}export{z as default};
//# sourceMappingURL=ImageCanvas-W0vO4q9H.js.map
