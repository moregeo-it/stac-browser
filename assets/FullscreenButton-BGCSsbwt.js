import{bf as c,v as h,z as a,x as d,y as f,D as l,L as m,E as i,M as r,Q as o,F as p,_ as F}from"./index-DLQIbJqc.js";import"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";const g={name:"FullscreenButton",props:{element:{type:[Function,String,Object],required:!0}},emits:["changed"],data(){return{isFullscreen:!1,doc:document,node:null,listener:this.onChange.bind(this)}},computed:{title(){return this.isFullscreen?this.$t("fullscreen.exit"):this.$t("fullscreen.show")},isSupported(){return!!(this.node&&this.doc.body.requestFullscreen&&this.doc.fullscreenEnabled)}},watch:{element:{immediate:!0,handler(){this.update()}},isFullscreen(e){e?this.doc.addEventListener("fullscreenchange",this.listener):this.doc.removeEventListener("fullscreenchange",this.listener),this.node.classList.toggle("fullscreen",e),this.$refs.button.$el.blur(),this.$emit("changed",e)}},mounted(){this.update()},beforeUnmount(){this.forceClose()},methods:{update(){this.forceClose(),this.node=this.getElement(),this.node&&(this.doc=this.node.ownerDocument)},forceClose(){this.isFullscreen&&this.doc.exitFullscreen()},getElement(){return typeof this.element=="string"?document.querySelector(this.element):typeof this.element=="function"?this.element():this.element},onChange(){this.isFullscreen&&!this.doc.fullscreenElement&&(this.isFullscreen=!1)},toggleFullscreen(){this.isSupported&&(this.isFullscreen?this.doc.exitFullscreen().then(()=>this.isFullscreen=!1):this.node.requestFullscreen().then(()=>this.isFullscreen=!0))}}};function b(e,s,_,C,n,t){const u=F;return t.isSupported?(d(),h(u,{key:0,onClick:p(t.toggleFullscreen,["prevent"]),ref:"button",variant:"dark",class:"fullscreen-button",title:t.title},{default:f(()=>[l(i("span",null,r(e.$t("fullscreen.exitLabel")),513),[[o,n.isFullscreen]]),s[0]||(s[0]=m()),l(i("span",null,r(e.$t("fullscreen.showLabel")),513),[[o,!n.isFullscreen]])]),_:1},8,["onClick","title"])):a("",!0)}const S=c(g,[["render",b]]);export{S as default};
//# sourceMappingURL=FullscreenButton-BGCSsbwt.js.map
