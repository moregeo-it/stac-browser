import{I as G,R as p}from"./Tile-C6wKdysJ.js";import{as as a,g,f as T,E as C,z as E}from"./GeoJSON-dVJCj0SI.js";import{g as y}from"./Tile-oJI9PQZQ.js";import R from"./UrlTile-CFIfXLkZ.js";import"./Tile-G7aX-9AV.js";import"./common-D17H8Wti.js";import"./index-DLQIbJqc.js";import"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-LQBMttYK-CW7mqt87.js";import"./useStateClass-BGbSLWFN-DVCkhww4.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--D04gVupl.js";import"./tilecoord-CR7vLr2I.js";import"./TileGrid-DzNPHZK1.js";import"./TileRange-2Tc-Ry00.js";import"./tileurlfunction-Bbs9UhLX.js";import"./uri-BP_XjvpC.js";import"./TileEventType-CTN_nmJ7.js";class Y extends R{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:I,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:G,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!a(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const i=this.getProjection();if(this.tileGrid&&(!i||a(i,e)))return this.tileGrid;const t=g(e);return t in this.tileGridForProjection||(this.tileGridForProjection[t]=y(e)),this.tileGridForProjection[t]}createTile_(e,i,t,n,r,o){const l=[e,i,t],d=this.getTileCoordForTileUrlFunction(l,r),s=d?this.tileUrlFunction(d,n,r):void 0,c=new this.tileClass(l,s!==void 0?T.IDLE:T.EMPTY,s!==void 0?s:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(C.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,i,t,n,r){const o=this.getProjection();if(!o||!r||a(o,r))return this.getTileInternal(e,i,t,n,o||r);const l=[e,i,t],d=this.getKey(),s=this.getTileGridForProjection(o),c=this.getTileGridForProjection(r),m=this.getTileCoordForTileUrlFunction(l,r),u=new p(o,s,r,c,l,m,this.getTilePixelRatio(n),this.getGutter(),(F,f,j,P)=>this.getTileInternal(F,f,j,P,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return u.key=d,u}getTileInternal(e,i,t,n,r){const o=this.getKey();return this.createTile_(e,i,t,n,r,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,i){const t=E(e);if(t){const n=g(t);n in this.tileGridForProjection||(this.tileGridForProjection[n]=i)}}}function I(h,e){h.getImage().src=e}export{Y as default};
//# sourceMappingURL=TileImage-CEJVvt16.js.map
