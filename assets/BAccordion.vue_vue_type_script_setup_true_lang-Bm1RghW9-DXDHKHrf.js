import{d as k,m as x,e as E,f as T,h as B,r as D,w as p,bw as N,g as L,c as b,ak as H,$ as g,bD as M,G as P,x as z,A as C,H as R,B as s,aR as j,i as O,j as K,bv as U,s as _,a2 as m,P as q,y as w,E as $,C as h,v as F,K as G,L as J,M as Q,bE as W}from"./index-DPmgT0xU.js";import{f as X}from"./BTabs.vue_vue_type_script_setup_true_lang-DJniJmO4-C-gDtj3g.js";import{_ as Y}from"./BCollapse.vue_vue_type_script_setup_true_lang-B8TqF-kB-BPJ1mkoe.js";const Z=["aria-expanded","aria-controls","onClick"],ee=k({inheritAttrs:!1,__name:"BAccordionItem",props:x({bodyAttrs:{default:void 0},bodyClass:{default:void 0},buttonAttrs:{default:void 0},buttonClass:{default:void 0},collapseClass:{default:void 0},headerAttrs:{default:void 0},headerClass:{default:void 0},headerTag:{default:"h2"},horizontal:{type:Boolean,default:void 0},id:{default:void 0},isNav:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},tag:{default:void 0},title:{default:void 0},show:{type:Boolean,default:void 0},visible:{type:Boolean,default:!1},wrapperAttrs:{default:void 0}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:x(["hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented","cancel","ok"],["update:modelValue"]),setup(c,{emit:V}){const u=E(c,"BAccordionItem"),a=V,i=j(),y=b(()=>{const{class:f,...e}=i;return{wrapperClass:f,collapseAttrs:e}}),r=O(M,null),t=L(()=>u.id,"accordion_item"),d=B(c,"modelValue");d.value?r?.setOpenItem(t.value):d.value=(Array.isArray(r?.openItem.value)?r?.openItem.value.includes(t.value):r?.openItem.value===t.value)&&!r?.initialAnimation.value;const I=K("_el");r?.registerAccordionItem(t.value,I),U(()=>{r?.unregisterAccordionItem(t.value)}),_(()=>{!d.value&&r?.openItem.value===t.value&&m(()=>{d.value=!0})});const A=b(()=>Array.isArray(r?.openItem.value)?r?.openItem.value.includes(t.value):r?.openItem.value===t.value);return p(()=>r?.openItem.value,()=>d.value=A.value),p(d,()=>{d.value&&!A.value?r?.setOpenItem(t.value):!d.value&&A.value&&r?.setCloseItem(t.value)}),(f,e)=>(z(),P("div",h({ref:"_el",class:"accordion-item"},s(u).wrapperAttrs,{class:y.value.wrapperClass}),[q(Y,h({id:s(t),modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),class:["accordion-collapse",s(u).collapseClass],"aria-labelledby":`${s(t)}-heading`},y.value.collapseAttrs,{tag:s(u).tag,show:s(u).show,horizontal:s(u).horizontal,visible:s(u).visible,"is-nav":s(u).isNav,lazy:s(u).lazy||s(r)?.lazy.value,"unmount-lazy":s(u).unmountLazy||s(r)?.unmountLazy.value,onShow:e[1]||(e[1]=l=>a("show",l)),onShown:e[2]||(e[2]=l=>a("shown",l)),onHide:e[3]||(e[3]=l=>a("hide",l)),onHidden:e[4]||(e[4]=l=>a("hidden",l)),onHidePrevented:e[5]||(e[5]=l=>a("hide-prevented",l)),onShowPrevented:e[6]||(e[6]=l=>a("show-prevented",l)),onTogglePrevented:e[7]||(e[7]=l=>a("toggle-prevented",l)),onToggle:e[8]||(e[8]=l=>a("toggle",l))}),{header:w(({visible:l,toggle:o})=>[(z(),F(G(s(u).headerTag),h({id:`${s(t)}-heading`,class:["accordion-header",s(u).headerClass]},s(u).headerAttrs),{default:w(()=>[$("button",h({class:"accordion-button"},s(u).buttonAttrs,{class:[{collapsed:!l},s(u).buttonClass],type:"button","aria-expanded":l?"true":"false","aria-controls":s(t),onClick:o}),[C(f.$slots,"title",{},()=>[J(Q(s(u).title),1)])],16,Z)]),_:2},1040,["id","class"]))]),default:w(()=>[$("div",h({class:"accordion-body"},s(u).bodyAttrs,{class:s(u).bodyClass}),[C(f.$slots,"default")],16)]),_:3},16,["id","modelValue","class","aria-labelledby","tag","show","horizontal","visible","is-nav","lazy","unmount-lazy"])],16))}}),ae=["id"],se=k({__name:"BAccordion",props:x({flush:{type:Boolean,default:!1},free:{type:Boolean,default:!1},id:{default:void 0},initialAnimation:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1}},{modelValue:{default:void 0},modelModifiers:{},index:{default:void 0},indexModifiers:{}}),emits:["update:modelValue","update:index"],setup(c){const n=E(c,"BAccordion"),u=T(),a=B(c,"modelValue"),i=B(c,"index"),y=D([]),r=()=>{const e=X(u.default?.({})??[]);y.value=(Array.isArray(e)?e:[e]).filter(l=>l.type===ee)};r(),p(()=>u.default?.({}),()=>{r(),m(()=>{d()})});const t=N([]),d=()=>{if(t.value=t.value.sort((e,l)=>W(s(e.el),s(l.el))),a.value)if(Array.isArray(a.value)){const e=a.value.map(l=>t.value.findIndex(o=>o.id===l)).filter(l=>l!==-1);e.length,a.value.length,i.value=e}else{const e=t.value.findIndex(l=>l.id===a.value);e!==-1&&(i.value=e)}else i.value!==void 0&&(a.value=Array.isArray(i.value)?i.value.map(e=>t.value[e]?.id):t.value[i.value]?.id)},I=L(()=>n.id,"accordion"),A=b(()=>({"accordion-flush":n.flush})),f=(e,l)=>Array.isArray(e)&&Array.isArray(l)?e.length===l.length&&e.every((o,v)=>o===l[v]):e===l;return p(()=>i.value,(e,l)=>{if(!f(e,l)){if(i.value===void 0){a.value=void 0;return}if(n.free)if(Array.isArray(i.value)){const o=i.value.map(v=>t.value[v]?.id);f(o,a.value)||(a.value=o)}else{const o=t.value[i.value]?.id;if(o===void 0){m(()=>{i.value=void 0});return}f(o,a.value)||(a.value=o)}else{const o=Array.isArray(i.value)?i.value?.[0]:i.value;t.value[o]?.id?a.value!==t.value[o]?.id&&(a.value=t.value[o]?.id):m(()=>{i.value=void 0})}}}),p(()=>a.value,(e,l)=>{if(!f(e,l)){if(a.value===void 0){i.value=void 0;return}if(n.free){if(n.free)if(Array.isArray(a.value)){const o=a.value.map(v=>t.value.findIndex(S=>S.id===v)).filter(v=>v!==-1);o.length>0?f(o,i.value)||(i.value=o):m(()=>{a.value=void 0})}else{const o=t.value.findIndex(v=>v.id===a.value);f(o,i.value)||(i.value=o)}}else{const o=Array.isArray(a.value)?t.value.findIndex(v=>v.id===a.value?.[0]):t.value.findIndex(v=>v.id===a.value);o!==-1?i.value!==o&&(i.value=o):m(()=>{a.value=void 0})}}},{deep:!0}),p(()=>n.free,e=>{a.value&&(!e&&Array.isArray(a.value)?a.value=a.value[0]:e&&!Array.isArray(a.value)&&(a.value=[a.value]))}),H(M,{openItem:g(()=>a.value),free:g(()=>n.free),initialAnimation:g(()=>n.initialAnimation),lazy:g(()=>n.lazy),unmountLazy:g(()=>n.unmountLazy),setOpenItem:e=>{if(n.free&&!Array.isArray(a.value)){a.value!==void 0?a.value=[a.value,e]:a.value=[e];return}if(!n.free&&Array.isArray(a.value)){a.value=e;return}Array.isArray(a.value)?a.value.includes(e)||(a.value=[...a.value,e]):a.value=e},setCloseItem:e=>{if(!n.free&&Array.isArray(a.value)){a.value=void 0;return}if(Array.isArray(a.value)){const l=a.value.filter(o=>o!==e);a.value=l.length?l:void 0}else a.value===e&&(a.value=void 0)},registerAccordionItem:(e,l)=>{t.value=[...t.value,{id:e,el:l}],t.value.length===y.value.length&&d()},unregisterAccordionItem:e=>{t.value=t.value.filter(l=>l.id!==e)}}),(e,l)=>(z(),P("div",{id:s(I),class:R(["accordion",A.value])},[C(e.$slots,"default")],10,ae))}});export{ee as _,se as a};
//# sourceMappingURL=BAccordion.vue_vue_type_script_setup_true_lang-Bm1RghW9-DXDHKHrf.js.map
