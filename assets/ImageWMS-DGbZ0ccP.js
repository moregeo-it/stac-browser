import{z as u,an as h,ak as o}from"./GeoJSON-DII1Qerq.js";import{c as m}from"./common-C7eTg1SE.js";import d,{defaultImageLoadFunction as l}from"./Image-FE7SDcNP.js";import{getFeatureInfoUrl as g,getLegendUrl as c,createLoader as _}from"./wms-OV0G49kB.js";import"./index-DPmgT0xU.js";import"./utils-B7F_ho2D.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-LQBMttYK-DOMeCoku.js";import"./useStateClass-BGbSLWFN-BNuqkYB7.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--BXnPMu4c.js";import"./resolution-CU8ppKQ3.js";import"./common-9rOs42pz.js";import"./uri-BF60_jX7.js";import"./tilecoord-CR7vLr2I.js";class k extends d{constructor(r){r=r||{},super({attributions:r.attributions,interpolate:r.interpolate,projection:r.projection,resolutions:r.resolutions}),this.crossOrigin_=r.crossOrigin!==void 0?r.crossOrigin:null,this.url_=r.url,this.imageLoadFunction_=r.imageLoadFunction!==void 0?r.imageLoadFunction:l,this.params_=Object.assign({},r.params),this.serverType_=r.serverType,this.hidpi_=r.hidpi!==void 0?r.hidpi:!0,this.renderedRevision_=0,this.ratio_=r.ratio!==void 0?r.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(r,e,s,a){const t=u(s),i=this.getProjection();i&&i!==t&&(e=m(i,t,r,e),r=h(r,t,i));const n={url:this.url_,params:{...this.params_,...a},projection:i||t};return g(n,r,e)}getLegendUrl(r,e){return c({url:this.url_,params:{...this.params_,...e}},r)}getParams(){return this.params_}getImageInternal(r,e,s,a){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==a)&&(this.loaderProjection_=a,this.loader=_({crossOrigin:this.crossOrigin_,params:this.params_,projection:a,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,i)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,i),o(t))})),super.getImageInternal(r,e,s,a))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(r){this.imageLoadFunction_=r,this.changed()}setUrl(r){r!=this.url_&&(this.url_=r,this.loader=null,this.changed())}setParams(r){this.params_=Object.assign({},r),this.changed()}updateParams(r){Object.assign(this.params_,r),this.changed()}changed(){this.image=null,super.changed()}}export{k as default};
//# sourceMappingURL=ImageWMS-DGbZ0ccP.js.map
