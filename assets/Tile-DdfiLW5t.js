import{z as u,b1 as T,b2 as G,az as P,aA as d,a2 as c,b3 as x,aB as z,b4 as b,av as E,B as F,a$ as S,g as _,Q as p,b5 as w}from"./GeoJSON-DII1Qerq.js";import{w as m}from"./tilecoord-CR7vLr2I.js";import{T as h}from"./TileGrid-BTQFLLcz.js";function y(i){let t=i.getDefaultTileGrid();return t||(t=M(i),i.setDefaultTileGrid(t)),t}function R(i,t,e){const r=t[0],n=i.getTileCoordCenter(t),s=f(e);if(!P(s,n)){const o=d(s),l=Math.ceil((s[0]-n[0])/o);return n[0]+=o*l,i.getTileCoordForCoordAndZ(n,r)}return t}function j(i,t,e,r){r=r!==void 0?r:"top-left";const n=g(i,t,e);return new h({extent:i,origin:b(i,r),resolutions:n,tileSize:e})}function Z(i){const t=i||{},e=t.extent||u("EPSG:3857").getExtent(),r={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:g(e,t.maxZoom,t.tileSize,t.maxResolution)};return new h(r)}function g(i,t,e,r){t=t!==void 0?t:E,e=c(e!==void 0?e:x);const n=z(i),s=d(i);r=r>0?r:Math.max(s/e[0],n/e[1]);const o=t+1,l=new Array(o);for(let a=0;a<o;++a)l[a]=r/Math.pow(2,a);return l}function M(i,t,e,r){const n=f(i);return j(n,t,e,r)}function f(i){i=u(i);let t=i.getExtent();if(!t){const e=180*T.degrees/i.getMetersPerUnit();t=G(-e,-e,e,e)}return t}class A extends S{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const e=[256,256];this.tileGrid&&c(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tmpSize=[0,0],this.key_=t.key||_(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,r,n,s){return p()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:y(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,r){const n=this.getTileGridForProjection(r),s=this.getTilePixelRatio(e),o=c(n.getTileSize(t),this.tmpSize);return s==1?o:w(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){const r=e!==void 0?e:this.getProjection(),n=e!==void 0?this.getTileGridForProjection(r):this.tileGrid||this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=R(n,t,r)),m(t,n)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class O extends F{constructor(t,e){super(t),this.tile=e}}const k=Object.freeze(Object.defineProperty({__proto__:null,TileSourceEvent:O,default:A},Symbol.toStringTag,{value:"Module"}));export{A as T,O as a,k as b,Z as c,f as e,y as g};
//# sourceMappingURL=Tile-DdfiLW5t.js.map
